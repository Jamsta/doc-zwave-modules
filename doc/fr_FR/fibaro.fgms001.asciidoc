== Fibaro Motion Sensor - FGMS-001

* Le module

image::../images/fibaro.fgms001/module.jpg[width=256]

* Le visuel Jeedom

image::../images/fibaro.fgms001/vuedefaut1.jpg[width=256]

=== Résumé

Le détecteur de mouvement Fibaro est un détecteur multifonctions Z-Wave. En plus de la détection de mouvement, ce dispositif mesure la température et l'intensité lumineuse. Ce détecteur comporte aussi un accéléromètre intégré afin de détecter toute tentative d'altération du dispositif.

Le détecteur de mouvement Fibaro est alimenté par batterie et est conçu pour être installé rapidement et facilement sur n'importe quelle surface. Le voyant LED signale le mouvement, le niveau de température, le mode de fonctionnement et peut être utilisé pour voir si l'appareil est dans le réseau Z-Wave.

Le détecteur de mouvement peut être utilisé pour les scènes d'éclairage et les systèmes de surveillance de la sécurité.

=== Fonctions

*	Détecteur de mouvement sans fil
*	Détecte les mouvements à l'aide d'un capteur infrarouge passif
*	Mesure de la température
*	Mesure de l'intensité lumineuse
*	Protection contre l'effraction et le vol
*	Alertes de mouvement et de température signalées par le clignotement de la diode LED
*	Mode de détection de tremblement de terre
*	Bouton pour inclure/exclure le détecteur
*	Détection pile faible
*	Très petit, dimensions réduites
*	Facilité d'installation sur un mur ou toute autre surface

=== Caractéristiques Techniques

*	Type de module : Emetteur Z-Wave
*	Alimentation : Pile CR123A 3,6VDC
*	Hauteur recommandée pour l'installation : 2,4m
*	Plage de température mesurée : -20°C à 100°C
*	Précision de la mesure : 0,5°C
*	Plage de mesure de la luminosité : 0-32000 LUX
*	Fréquence : 868,42 Mhz
*	Distance de transmission : 50m champ libre, 30m en intérieur
*	Dimensions: 4,4 cm de diamètre
*	Température de fonctionnement : 0-40°C
*	Certifications : LVD 2006/95/WE EMC 2004/108/WE R&TTE 1999/5/WE RoHS II

=== Données du module

* Marque : Fibar Group
* Nom : Fibaro FGMS-001 [Motion Sensor]
* Fabricant ID : 271
* Type Produit : 2048
* Produit ID : 4097

=== Configuration

==== Inclusion

Avant de commencer assurez vous d'avoir récupéré la configuration suivante sur le market : Fibaro FGMS-001 [Motion Sensor] .

Pour configurer le module il suffit de l'inclure grâce au bouton "Mode inclusion" du plugin Zwave de Jeedom.

image::../images/plugin/bouton_inclusion.jpg[Mode Inclusion plugin Zwave,align="center"]
Une fois Jeedom en mode inclusion. Mettez le module en inclusion (en appuyant 3 fois sur le bouton d'inclusion, 
conformément à sa documentation papier)
La configuration des commandes se fait automatiquement une fois le module reconnu par Jeedom.

image::../images/fibaro.fgms001/information.jpg[Plugin Zwave,align="center"]

==== Commandes

Une fois le module reconnu, les commandes associées aux modules seront disponibles.

image::../images/fibaro.fgms001/commandes.jpg[Commandes,align="center"]

[underline]#Voici la liste des commandes :#

* Evènement : C'est la commande qui remontera le home/away (5 pour away 6 pour home) (commande non affichée mais à utiliser comme déclencheur de scénario et qui permettra de savoir quel bouton à été appuyé)
* Action : La meme chose qu'au dessus mais sous forme de texte (affiché par défaut sur le dashboard)
* Dernier Badge : C'est la commande qui permet de remonter la mémoire du dernier code/badge valide présenté
* Sabotage : C'est la commande sabotage (elle est déclenchée en cas d'arrachement)
* Code : Affiche le code du badge ou du clavier lorsque le code saisi n'est pas dans une des mémoires
* Batterie : C'est la commande batterie

==== Configuration du module

Ensuite si vous voulez effectuer la configuration du module en fonction de votre installation.
Il faut pour cela passer par la bouton "Configuration" du plugin Zwave de Jeedom.

image::../images/plugin/bouton_configuration.jpg[Configuration plugin Zwave,align="center"]

[underline]#Vous arriverez sur cette page#

image::../images/fibaro.fgms001/config1.jpg[Config1,align="center"]

[underline]#Détails des paramètres :#

* Wakeup : il est déconseillé de changer cette valeur
* 1: permet de remettre la config par défaut (déconseillé)
* 2: durée d'annulation (à ne pas modifier)
* 3: retour par bip : permet d'activer ou non une série de 8 bips après reconnaissance d'un badge/code
* 4: nombre de bips par seconde (ne pas modifier n'a pas d'effet)
* 5: mode de fonctionnement : normal ou mode toujours reveillé (déconseillé car très très consommateur de piles)

==== Groupes

Ce module possède un seul groupe d'association.

==== Les badges /codes

Dans la page de configuration il y a un onglet spécifique. Celui-ci permet de rajouter des codes.
Vous y verrez un tableau.

image::../images/fibaro.fgms001/config2.jpg[Config2,align="center"]
* Ce tableau vous permet de visualiser les mémoires occupées sur votre clavier
* Pour enregistrer un nouveau code cliquez sur le bouton Vert sur la mémoire désirée et suivez les étapes
* Le zipato ne permet pas de supprimer une mémoire, cependant vous pouvez remplacer le code d'une mémoire existante
* Il est impossible d'enregistrer le même code/badge sur deux mémoires différentes
* Il est est impossible (par mesure de sécurité) de lire la valeur d'un code enregistré
* Pour vider toutes vos mémoires, vous pouvez exclure et inclure le module


=== Exemples d'utilisation

image::../images/fibaro.fgms001/exemple.jpg[exemple,align="center"]
L'élément déclencheur et la commande évènement, en effet celle-ci est mise à jour uniquement lorsqu'un code/badge valide à été présenté.
Si la valeur est 6 (home) on désactive l'alarme
Sinon (forcément 5) on l'active.

Il est aussi possible de faire des actions différentes en fonction du badge ou du code puisque la valeur du dernier badge vous donnera la mémoire concernée par l'action.

=== Bon à savoir

==== Spécificités

Le keypad envoit les infos de deux manières :

* le code est dans la mémoire, dans ce cas il envoit la mémoire (dernier badge), l'action et l'évènement (home/away)
* le code n'est pas dans la mémoire, il envoit le code dans la commande code.
* les commandes dernier badge et action seront vides tant qu'un badge/code n'aura pas été mémorisé et utilisé

==== Visuel alternatif

=== Wakeup

Pour réveiller ce module il ya deux façons de procéder :

* appuie sur le bouton tamper puis relacher au bout de 1 à 2 secondes
* ou simplement appuyer sur home un chiffre au hasard et enter

=== Note importante

[big red]*Pour la prise en compte de la modification des groupes ou de la configuration il faut réveiller le module. Cela à chaque modification et la première fois juste après la détection par Jeedom. Il peut être nécessaire de le réveiller plusieurs fois de suite. Pour le savoir il suffit de regarder la queue Zwave et de s'assurer qu'il n'y a plus de commande en attente pour le module. Quand ce sera le cas, le module sera complétement configuré avec Jeedom. Il faudra reprocéder ainsi que lorsque vous changerez une config ou un groupe.*
